univention-office365 (3.0.1-3) unstable; urgency=medium

  * Bug #54858: Write default adconnection onto user if none was specified

 -- Julia Bremer <bremer@univention.de>  Thu, 23 Jun 2022 19:04:34 +0200

univention-office365 (3.0.1-1) unstable; urgency=medium

  * Bug #54858: Update connector to use Graph API instead of Azure API (port
    from 4.4).

 -- Esteban Martinena <martinena@univention.de>  Tue, 14 Jun 2022 10:56:16 +0200

univention-office365 (3.0.0-6) unstable; urgency=medium

  * Bug #54509: Add icons for UCS 5 portal integration

 -- Erik Damrose <damrose@univention.de>  Tue, 05 Apr 2022 11:13:48 +0200

univention-office365 (3.0.0-5) unstable; urgency=medium

  * Bug #54509: Fix import for python requests

 -- Erik Damrose <damrose@univention.de>  Thu, 31 Mar 2022 20:48:24 +0200

univention-office365 (3.0.0-4) unstable; urgency=medium

  * Bug #54509: u-office365 only depends on python3 lib package

 -- Erik Damrose <damrose@univention.de>  Wed, 30 Mar 2022 17:15:59 +0200

univention-office365 (3.0.0-3) unstable; urgency=medium

  * Bug #54509: Increase joinscript version, fix translation

 -- Erik Damrose <damrose@univention.de>  Wed, 30 Mar 2022 15:33:51 +0200

univention-office365 (3.0.0-2) unstable; urgency=medium

  * Bug #54509: Increase debian version for first UCS 5.0 build

 -- Erik Damrose <damrose@univention.de>  Mon, 28 Mar 2022 18:16:10 +0200

univention-office365 (3.0.0-1) unstable; urgency=medium

  * Bug #54509: Update shebangs and ucs-test dependences (python3-pytest-mock)
    for UCS 5.0

 -- Ivan Barbecho Delgado <delgado.extern@univention.de>  Wed, 09 Mar 2022 09:50:18 +0100

univention-office365 (2.0.3-1) unstable; urgency=medium

  * Bug #55403: Migration to python3 compatible code.

 -- Esteban Martinena <martinena@univention.de>  Wed, 09 Mar 2022 09:45:36 +0100

univention-office365 (2.0.2-161) unstable; urgency=medium

  * Bug #52568: Improve error messages in case of empty default adconnection

 -- Esteban Martinena <martinena@univention.de>  Tue, 21 Dec 2021 07:09:45 +0100

univention-office365 (2.0.2-160) unstable; urgency=medium

  * Bug #54243: Initialize group cache on package update

 -- Erik Damrose <damrose@univention.de>  Mon, 13 Dec 2021 12:14:34 +0100

univention-office365 (2.0.2-158) unstable; urgency=medium

  * Bug #53668: Further optimize listener performance

 -- Dirk Wiesenthal <wiesenthal@univention.de>  Mon, 22 Nov 2021 20:47:24 +0100

univention-office365 (2.0.2-157) unstable; urgency=medium

  * Bug #53668: Improve listener performance by using the group cache

 -- Dirk Wiesenthal <wiesenthal@univention.de>  Tue, 16 Nov 2021 20:22:00 +0100

univention-office365 (2.0.2-155) unstable; urgency=medium

  * Bug #48389: Skip test 402 for now

 -- Erik Damrose <damrose@univention.de>  Fri, 10 Sep 2021 12:42:49 +0200

univention-office365 (2.0.2-154) unstable; urgency=medium

  * Bug #53397: EA syntax

 -- Dirk Wiesenthal <wiesenthal@univention.de>  Wed, 08 Sep 2021 23:49:12 +0200

univention-office365 (2.0.2-153) unstable; urgency=medium

  * Bug #53706: Add timeout to Graph API calls

 -- Dirk Wiesenthal <wiesenthal@univention.de>  Wed, 08 Sep 2021 15:34:05 +0200

univention-office365 (2.0.2-152) unstable; urgency=medium

  * Bug #53397: Improve new group's EA description

 -- Dirk Wiesenthal <wiesenthal@univention.de>  Wed, 08 Sep 2021 15:20:03 +0200

univention-office365 (2.0.2-151) unstable; urgency=medium

  * Bug #53551: Adjusted installation path

 -- Dirk Wiesenthal <wiesenthal@univention.de>  Tue, 07 Sep 2021 11:15:52 +0200

univention-office365 (2.0.2-150) unstable; urgency=medium

  * Bug #53706: timout graph api call and retry once

 -- Arvid <requate@univention.de>  Mon, 06 Sep 2021 11:34:18 +0200

univention-office365 (2.0.2-149) unstable; urgency=medium

  * Bug #48389: Add HTTP 409 reponse as valid response to create team call, if the team
    already exists

 -- Erik Damrose <damrose@univention.de>  Fri, 03 Sep 2021 16:24:16 +0200

univention-office365 (2.0.2-148) unstable; urgency=medium

  * Bug #48389: Check if permissions are sufficient for Team functionality.
    Check twice if unsuccessful, get a new token for the second trial.
    The permissions are updated with a new token.

 -- Julia Bremer <bremer@univention.de>  Fri, 20 Aug 2021 12:14:10 +0200

univention-office365 (2.0.2-146) unstable; urgency=medium

  * Bug #48389: Try adding the team owner for a while, in case the group itself was not synced to azure yet.

 -- Julia Bremer <bremer@univention.de>  Sun, 15 Aug 2021 13:52:55 +0200

univention-office365 (2.0.2-144) unstable; urgency=medium

  * Bug #48389: fixup Automated tests for listener Team functionality
    added

 -- Julia Bremer <bremer@univention.de>  Mon, 19 Jul 2021 20:53:47 +0200

univention-office365 (2.0.2-143) unstable; urgency=medium

  * Bug #48389: Prevent access token being owned by a user other than listener

 -- Julia Bremer <bremer@univention.de>  Mon, 19 Jul 2021 20:48:23 +0200

univention-office365 (2.0.2-142) unstable; urgency=medium

  * Bug #48389: Automated tests for listener Team functionality
    added

 -- Julia Bremer <bremer@univention.de>  Tue, 13 Jul 2021 22:11:57 +0200

univention-office365 (2.0.2-141) unstable; urgency=medium

  * Bug #48389: 92_office365/302_check_big_group
    92_office365/402_teams_test

 -- Felix Botner <botner@univention.de>  Mon, 12 Jul 2021 12:32:29 +0200

univention-office365 (2.0.2-140) unstable; urgency=medium

  * Bug #48389: use azure_handler delete_user and
    add_objects_to_azure_group/delete_group_member

 -- Felix Botner <botner@univention.de>  Fri, 09 Jul 2021 14:07:38 +0200

univention-office365 (2.0.2-139) unstable; urgency=medium

  * Bug #48389: logging

 -- Felix Botner <botner@univention.de>  Fri, 09 Jul 2021 12:09:46 +0200

univention-office365 (2.0.2-138) unstable; urgency=medium

  * Bug #48389: unarchive team

 -- Felix Botner <botner@univention.de>  Fri, 09 Jul 2021 10:38:37 +0200

univention-office365 (2.0.2-137) unstable; urgency=medium

  * Bug #48389: univention.listener.handler_logging

 -- Felix Botner <botner@univention.de>  Fri, 09 Jul 2021 08:39:21 +0200

univention-office365 (2.0.2-136) unstable; urgency=medium

  * Bug #48389: Add Graph API to group listener module

 -- Felix Botner <botner@univention.de>  Thu, 08 Jul 2021 12:43:14 +0200

univention-office365 (2.0.2-135) unstable; urgency=medium

  * Issue #554: univention-ms-office-async run as listener

 -- Felix Botner <botner@univention.de>  Wed, 07 Jul 2021 13:32:09 +0200

univention-office365 (2.0.2-134) unstable; urgency=medium

  * Issue #554: univention-ms-office-async run as listener

 -- Felix Botner <botner@univention.de>  Wed, 07 Jul 2021 13:28:23 +0200

univention-office365 (2.0.2-133) unstable; urgency=medium

  * Issue #554: univention-ms-office-async run as listener

 -- Felix Botner <botner@univention.de>  Wed, 07 Jul 2021 13:06:06 +0200

univention-office365 (2.0.2-132) unstable; urgency=medium

  * Issue #554: univention-ms-office-async run as listener

 -- Felix Botner <botner@univention.de>  Wed, 07 Jul 2021 12:36:07 +0200

univention-office365 (2.0.2-131) unstable; urgency=medium

  * Issue #554: univention-ms-office-async

 -- Felix Botner <botner@univention.de>  Tue, 06 Jul 2021 21:21:33 +0200

univention-office365 (2.0.2-130) unstable; urgency=medium

  * Issue #554: univention-ms-office-async

 -- Felix Botner <botner@univention.de>  Tue, 06 Jul 2021 13:07:22 +0200

univention-office365 (2.0.2-129) unstable; urgency=medium

  * Bug #48389: Add Graph API to group listener module

 -- Erik Damrose <damrose@univention.de>  Mon, 05 Jul 2021 19:21:27 +0200

univention-office365 (2.0.2-128) unstable; urgency=medium

  * Issue #554: Added univention-ms-office-async

 -- Felix Botner <botner@univention.de>  Fri, 02 Jul 2021 14:25:51 +0200

univention-office365 (2.0.2-127) unstable; urgency=medium

  * Issue #554: Added univention-ms-office-async

 -- Felix Botner <botner@univention.de>  Fri, 02 Jul 2021 13:04:49 +0200

univention-office365 (2.0.2-126) unstable; urgency=low

  * Issue #555: Added gitlab-ci pipeline

 -- Max Christian Pohle <pohle@univention.de>  Mon, 28 Jun 2021 16:43:50 +0200

univention-office365 (2.0.2-117) unstable; urgency=medium

  * Bug #48389: Append new microsoft graph permissions during wizard setup

 -- Julia Bremer <bremer@univention.de>  Thu, 10 Jun 2021 07:53:26 +0200

univention-office365 (2.0.2-115) unstable; urgency=medium

  * Bug #53397: added UMC integration and LDAP schema for teams

 -- Felix Botner <botner@univention.de>  Fri, 04 Jun 2021 15:10:42 +0200

univention-office365 (2.0.2-114) unstable; urgency=low

  * Bug #52840: Fixed test, added sleep to give the Microsoft server enough
    time

 -- Max Christian Pohle <pohle@univention.de>  Fri, 19 Mar 2021 16:25:02 +0100

univention-office365 (2.0.2-112) unstable; urgency=medium

  * Bug #52960: Fix UCR value parsing in o365_usertokens script

 -- Erik Damrose <damrose@univention.de>  Fri, 19 Mar 2021 13:42:17 +0100

univention-office365 (2.0.2-110) unstable; urgency=low

  * Bug 52840 - Encapsulate Graph API functionality to work with Microsoft 365
    Teams

 -- Max Christian Pohle <pohle@univention.de>  Mon, 15 Mar 2021 14:57:02 +0100

univention-office365 (2.0.2-100) unstable; urgency=medium

  * Bug #52661: Fix joinscript logic to only execute migration steps
    if they have not been done before

 -- Erik Damrose <damrose@univention.de>  Fri, 15 Jan 2021 15:04:17 +0100

univention-office365 (2.0.2-98) unstable; urgency=medium

  * Bug #51153: Fix typos
  * Do not rename udm profile object
  * Group renaming in joinscript into one step

 -- Erik Damrose <damrose@univention.de>  Fri, 08 Jan 2021 16:39:20 +0100

univention-office365 (2.0.2-96) unstable; urgency=medium

  * Bug #51153: Change two screenshots, fix typo in joinscript

 -- Julia Bremer <bremer@univention.de>  Wed, 06 Jan 2021 13:50:05 +0100

univention-office365 (2.0.2-95) unstable; urgency=medium

  * Bug #51953: Fix exception handling in o365 data decoding

 -- Erik Damrose <damrose@univention.de>  Tue, 05 Jan 2021 16:20:13 +0100

univention-office365 (2.0.2-94) unstable; urgency=low

  * Bug #51153: Renamed Office 365 to Microsoft 365

 -- Max Christian Pohle <pohle@univention.de>  Fri, 18 Dec 2020 17:37:46 +0100

univention-office365 (2.0.2-92) unstable; urgency=medium

  * Bug #50671: stop udm-cli in joinscript if still running
    after ucs_registerLDAPExtension

 -- Felix Botner <botner@univention.de>  Tue, 15 Dec 2020 14:12:10 +0100

univention-office365 (2.0.2-91) unstable; urgency=medium

  * Bug #51953: Fix Exception handling in listener lib

 -- Erik Damrose <damrose@univention.de>  Tue, 15 Dec 2020 13:12:52 +0100

univention-office365 (2.0.2-90) unstable; urgency=medium

  * Bug #50671: added debug to join script

 -- Felix Botner <botner@univention.de>  Mon, 14 Dec 2020 16:46:56 +0100

univention-office365 (2.0.2-89) unstable; urgency=medium

  * Bug #52148: Adapt login-url that is shown in wizard.

 -- Erik Damrose <damrose@univention.de>  Mon, 14 Dec 2020 10:59:40 +0100

univention-office365 (2.0.2-88) unstable; urgency=medium

  * Bug #52148: Due to a problem with the UMC, we decided to use a
    wsgi script for the implementation instead of an anonymous UMC module.
    I renamed the authorization url to "/office365-authorize, to be able to
    use the wsgi script.

 -- Julia Bremer <bremer@univention.de>  Fri, 11 Dec 2020 20:17:37 +0100

univention-office365 (2.0.2-86) unstable; urgency=medium

  * Bug #52159: fixed "disbaled" test

 -- Felix Botner <botner@univention.de>  Fri, 11 Dec 2020 14:16:13 +0100

univention-office365 (2.0.2-85) unstable; urgency=high

  * Bug #52148: chrome & edge took HTTP SameSite seriously and made it
    impossible to finish the configuration wizard. It now works again.

 -- Max Christian Pohle <pohle@univention.de>  Wed, 09 Dec 2020 08:44:26 +0100

univention-office365 (2.0.2-79) unstable; urgency=medium

  * Bug #52159: also create group if already existing but for
    different connection

 -- Felix Botner <botner@univention.de>  Tue, 08 Dec 2020 20:42:03 +0100

univention-office365 (2.0.2-78) unstable; urgency=high

  * Bug #52148: Fixed wizard for Edge & Chrome Browsers

 -- Max Christian Pohle <pohle@univention.de>  Mon, 07 Dec 2020 08:24:30 +0100

univention-office365 (2.0.2-77) unstable; urgency=medium

  * Bug #52159: added "disbaled" test

 -- Felix Botner <botner@univention.de>  Wed, 02 Dec 2020 09:42:22 +0100

univention-office365 (2.0.2-76) unstable; urgency=medium

  * Bug #52159: add groupmembership after user reactivation

 -- Felix Botner <botner@univention.de>  Tue, 01 Dec 2020 20:23:11 +0100

univention-office365 (2.0.2-75) unstable; urgency=medium

  * Bug #52151: added check_for_empty_groups

 -- Felix Botner <botner@univention.de>  Tue, 10 Nov 2020 09:21:18 +0100

univention-office365 (2.0.2-74) unstable; urgency=medium

  * Bug #52151: do not check active membership in delete_empty_group

 -- Felix Botner <botner@univention.de>  Mon, 09 Nov 2020 15:05:44 +0100

univention-office365 (2.0.2-73) unstable; urgency=medium

  * Bug #51921: added paging (Arvids patch)

 -- Felix Botner <botner@univention.de>  Mon, 09 Nov 2020 13:00:17 +0100

univention-office365 (2.0.2-72) unstable; urgency=medium

  * Bug #51921: Ignore "already member of" error in
    AzureHandler.add_objects_to_azure_group

 -- Felix Botner <botner@univention.de>  Thu, 05 Nov 2020 12:03:00 +0100

univention-office365 (2.0.2-71) unstable; urgency=medium

  * Bug #50719: Extend service plan names to account for new subscriptions in
    Azure

 -- Erik Damrose <damrose@univention.de>  Tue, 04 Feb 2020 17:58:01 +0100

univention-office365 (2.0.2-70) unstable; urgency=medium

  * Bug #50612: Fix migrationscript to work with deactivated users

 -- Erik Damrose <damrose@univention.de>  Mon, 09 Dec 2019 17:35:56 +0100

univention-office365 (2.0.2-69) unstable; urgency=medium

  * Bug #50579: Fix UDM property case in last commit

 -- Arvid Requate <requate@univention.de>  Wed, 04 Dec 2019 20:09:37 +0100

univention-office365 (2.0.2-68) unstable; urgency=medium

  * Bug #50579: Make udm_groups_with_azure_users find users that are
    not migrated yet.

 -- Arvid Requate <requate@univention.de>  Wed, 04 Dec 2019 19:43:08 +0100

univention-office365 (2.0.2-67) unstable; urgency=medium

  * Bug #50579: Avoid traceback in migrate_to_adconnectionalias if there are
    groups that have not been synchronized properly before migration

 -- Arvid Requate <requate@univention.de>  Wed, 04 Dec 2019 19:26:20 +0100

univention-office365 (2.0.2-66) unstable; urgency=medium

  * Bug #50579: Avoid setting office365/groups/sync=no every time in
    joincript. Set it with ? instead.

 -- Arvid Requate <requate@univention.de>  Wed, 04 Dec 2019 19:05:37 +0100

univention-office365 (2.0.2-65) unstable; urgency=medium

  * Bug #50579: Avoid traceback in migrate_to_adconnectionalias if there are
    objects that have not been synchronized properly before migration

 -- Arvid Requate <requate@univention.de>  Wed, 04 Dec 2019 18:40:23 +0100

univention-office365 (2.0.2-64) unstable; urgency=medium

  * Bug #50579: Fix LDAP filter construction for migration

 -- Arvid Requate <requate@univention.de>  Wed, 04 Dec 2019 18:22:06 +0100

univention-office365 (2.0.2-63) unstable; urgency=medium

  * Bug #50579: Skip adding LDAP indices, abort joinscript unless
    slapd gets stopped.

 -- Arvid Requate <requate@univention.de>  Wed, 04 Dec 2019 17:37:31 +0100

univention-office365 (2.0.2-62) unstable; urgency=medium

  * Bug #50579: Fix removal of group members in modify_group

 -- Arvid Requate <requate@univention.de>  Wed, 04 Dec 2019 16:07:21 +0100

univention-office365 (2.0.2-61) unstable; urgency=medium

  * Bug #50579: Fix adding LDAP indices

 -- Arvid Requate <requate@univention.de>  Wed, 04 Dec 2019 11:28:57 +0100

univention-office365 (2.0.2-60) unstable; urgency=medium

  * Bug #50579: Try adding LDAP indices again after the test work again

 -- Arvid Requate <requate@univention.de>  Wed, 04 Dec 2019 10:25:36 +0100

univention-office365 (2.0.2-59) unstable; urgency=medium

  * Bug #50579: Re-apply the change of LDAP equality matching rule now that
    the last change made the tests work again.

 -- Arvid Requate <requate@univention.de>  Wed, 04 Dec 2019 08:48:10 +0100

univention-office365 (2.0.2-58) unstable; urgency=medium

  * Bug #50579: Revert adding LDAP indices

 -- Arvid Requate <requate@univention.de>  Tue, 03 Dec 2019 22:55:45 +0100

univention-office365 (2.0.2-57) unstable; urgency=medium

  * Bug #50579: Revert change of LDAP equality matching rule for
    UniventionOffice365Data

 -- Arvid Requate <requate@univention.de>  Tue, 03 Dec 2019 18:37:16 +0100

univention-office365 (2.0.2-56) unstable; urgency=medium

  * Bug #50579: Fix typo in udmhelper, add tests for group listener

 -- Erik Damrose <damrose@univention.de>  Tue, 03 Dec 2019 17:50:41 +0100

univention-office365 (2.0.2-55) unstable; urgency=medium

  * Bug #50579: Add LDAP indices for univentionOffice365ADConnectionAlias
    and univentionOffice365Enabled

 -- Arvid Requate <requate@univention.de>  Tue, 03 Dec 2019 10:24:28 +0100

univention-office365 (2.0.2-54) unstable; urgency=medium

  * Bug #50579: Fix LDAP equality matching for UniventionOffice365Data

 -- Arvid Requate <requate@univention.de>  Tue, 03 Dec 2019 00:25:58 +0100

univention-office365 (2.0.2-53) unstable; urgency=medium

  * Bug #50579: Fixes from udm-test results

 -- Arvid Requate <requate@univention.de>  Mon, 02 Dec 2019 22:05:04 +0100

univention-office365 (2.0.2-52) unstable; urgency=medium

  * Bug #50579: replace _assign_adconection_object_id function

 -- Arvid Requate <requate@univention.de>  Mon, 02 Dec 2019 18:38:22 +0100

univention-office365 (2.0.2-51) unstable; urgency=medium

  * Bug #50579: Adjust group listener code to new multi-connection data
    model

 -- Arvid Requate <requate@univention.de>  Mon, 02 Dec 2019 18:11:31 +0100

univention-office365 (2.0.2-50) unstable; urgency=medium

  * Bug #50573: Fix delete user in user listener, fix subscription test

 -- Erik Damrose <damrose@univention.de>  Mon, 02 Dec 2019 15:17:36 +0100

univention-office365 (2.0.2-49) unstable; urgency=medium

  * Bug #50573: Change command order in migration script, restart listener at
    an earlier stage

 -- Erik Damrose <damrose@univention.de>  Fri, 29 Nov 2019 12:34:25 +0100

univention-office365 (2.0.2-48) unstable; urgency=medium

  * Bug #50573: Adapt user and group listener with QA feedback, fix hook

 -- Erik Damrose <damrose@univention.de>  Fri, 29 Nov 2019 10:02:32 +0100

univention-office365 (2.0.2-47) unstable; urgency=medium

  * Bug #50573: Fix o365_usertokens

 -- Erik Damrose <damrose@univention.de>  Thu, 28 Nov 2019 16:17:28 +0100

univention-office365 (2.0.2-46) unstable; urgency=medium

  * Bug #50573: Fix print_users_and_groups

 -- Erik Damrose <damrose@univention.de>  Thu, 28 Nov 2019 14:05:08 +0100

univention-office365 (2.0.2-45) unstable; urgency=medium

  * Bug #50573: Fix issues in wizard with certificate download and saml setup
    script creation

 -- Erik Damrose <damrose@univention.de>  Thu, 28 Nov 2019 13:05:39 +0100

univention-office365 (2.0.2-44) unstable; urgency=medium

  * Bug #50460: Remove obsolete check from migration script

 -- Erik Damrose <damrose@univention.de>  Wed, 27 Nov 2019 16:58:38 +0100

univention-office365 (2.0.2-43) unstable; urgency=medium

  * Bug #50460: Code cleanup:
  * Remove migrate_defaultADConnection_files from migrate_to_adconnectionalias
    This is done in the joinscript now.
  * replace base64.encodestring by base64.b64encode everywhere
  * remove unnecessary parse method from complex syntax
    univentionOffice365ADConnections

 -- Arvid Requate <requate@univention.de>  Tue, 26 Nov 2019 21:13:55 +0100

univention-office365 (2.0.2-42) unstable; urgency=medium

  * Bug #50460: Fix adconnection_id in ids.json on package update
  * Use is_initialized method when listing connections

 -- Arvid Requate <requate@univention.de>  Tue, 26 Nov 2019 18:53:12 +0100

univention-office365 (2.0.2-41) unstable; urgency=medium

  * Bug #50460: Don't initialize defaultADConnection directory during
    (re-)join

 -- Arvid Requate <requate@univention.de>  Tue, 26 Nov 2019 15:39:07 +0100

univention-office365 (2.0.2-40) unstable; urgency=medium

  * Bug #50460: Create defaultADConnection during update and migrate
    existing json files to subdir
  * Fix missing str2bool

 -- Arvid Requate <requate@univention.de>  Tue, 26 Nov 2019 15:27:24 +0100

univention-office365 (2.0.2-39) unstable; urgency=medium

  * Bug #50460: Migrate config files to new directory regardless of the
    value of UCRV office365/migrate/adconnectionalias.

 -- Arvid Requate <requate@univention.de>  Tue, 26 Nov 2019 14:02:19 +0100

univention-office365 (2.0.2-38) unstable; urgency=medium

  * Bug #50460: Move mailPrimaryAddress check to
    office365_user_ADConnections_hook.py
  * Remove office365_userPrincipalName_hook.py
  * Remove legacy extended attributes UniventionOffice365userPrincipalName,
    UniventionOffice365ObjectID and UniventionOffice365GroupObjectID on update

 -- Arvid Requate <requate@univention.de>  Tue, 26 Nov 2019 12:20:01 +0100

univention-office365 (2.0.2-37) unstable; urgency=medium

  * Bug #50460: Set default connection if user just got activated
  * Don't print ucsschoolSchool
  * Disgard legacy content of UniventionOffice365Data after migration

 -- Arvid Requate <requate@univention.de>  Mon, 25 Nov 2019 23:07:13 +0100

univention-office365 (2.0.2-36) unstable; urgency=medium

  * Bug #50460: Fix inheritance issue in univentionOffice365ADConnections
    syntax parser.

 -- Arvid Requate <requate@univention.de>  Wed, 20 Nov 2019 22:51:26 +0100

univention-office365 (2.0.2-35) unstable; urgency=medium

  * Bug #50468: Increase test timeout

 -- Erik Damrose <damrose@univention.de>  Wed, 20 Nov 2019 18:46:21 +0100

univention-office365 (2.0.2-34) unstable; urgency=medium

  * Bug #50460: Use unique name for virtual dummy LDAP attribute

 -- Arvid Requate <requate@univention.de>  Wed, 20 Nov 2019 11:36:36 +0100

univention-office365 (2.0.2-33) unstable; urgency=medium

  * Bug #50460: Update univentionOffice365ADConnectionAlias in hook

 -- Arvid Requate <requate@univention.de>  Tue, 19 Nov 2019 19:55:03 +0100

univention-office365 (2.0.2-32) unstable; urgency=medium

  * Bug #50423: Check if default connection is initialized before trying to
    sync users

 -- Erik Damrose <damrose@univention.de>  Tue, 19 Nov 2019 19:50:56 +0100

univention-office365 (2.0.2-31) unstable; urgency=medium

  * Bug #50468: Increase test timeout

 -- Erik Damrose <damrose@univention.de>  Tue, 19 Nov 2019 14:20:20 +0100

univention-office365 (2.0.2-29) unstable; urgency=medium

  * Bug #50460: After automatic migration remove the legacy extended
    attributes

 -- Arvid Requate <requate@univention.de>  Mon, 18 Nov 2019 20:44:34 +0100

univention-office365 (2.0.2-28) unstable; urgency=medium

  * Bug #50460: only sync groups with users in matching AAD
  * Call manage_connections after creating the containers in joinscript

 -- Arvid Requate <requate@univention.de>  Mon, 18 Nov 2019 20:16:47 +0100

univention-office365 (2.0.2-27) unstable; urgency=medium

  * Bug #50468: Adapt all tests to new data format

 -- Erik Damrose <damrose@univention.de>  Mon, 18 Nov 2019 18:32:39 +0100

univention-office365 (2.0.2-26) unstable; urgency=medium

  * Bug #50460: Use Office365Listener.en/decode_o365data everywhere

 -- Arvid Requate <requate@univention.de>  Mon, 18 Nov 2019 16:00:28 +0100

univention-office365 (2.0.2-25) unstable; urgency=medium

  * Bug #50460: Adjust migration script

 -- Arvid Requate <requate@univention.de>  Mon, 18 Nov 2019 15:22:17 +0100

univention-office365 (2.0.2-24) unstable; urgency=medium

  * Bug #50468: Adapt test setup, implement udm ad-connection removal

 -- Erik Damrose <damrose@univention.de>  Fri, 15 Nov 2019 17:35:42 +0100

univention-office365 (2.0.2-23) unstable; urgency=medium

  * Bug #50460: Add translation file

 -- Arvid Requate <requate@univention.de>  Tue, 12 Nov 2019 18:24:28 +0100

univention-office365 (2.0.2-22) unstable; urgency=medium

  * Bug #50460: Add translation file

 -- Arvid Requate <requate@univention.de>  Tue, 12 Nov 2019 18:17:13 +0100

univention-office365 (2.0.2-21) unstable; urgency=medium

  * Bug #50460: Add univentionOffice365ADConnections syntax and
    Office365ADConnectionsHook

 -- Arvid Requate <requate@univention.de>  Tue, 12 Nov 2019 13:03:15 +0100

univention-office365 (2.0.2-20) unstable; urgency=medium

  * Bug #50460: Fix command order in joinscript

 -- Erik Damrose <damrose@univention.de>  Wed, 06 Nov 2019 17:48:03 +0100

univention-office365 (2.0.2-19) unstable; urgency=medium

  * Bug #50433: Refactoring and bug fixes

 -- Arvid Requate <requate@univention.de>  Wed, 06 Nov 2019 11:21:30 +0100

univention-office365 (2.0.2-18) unstable; urgency=medium

  * Bug #50433: Migrate new univentionOffice365Data attribute structure

 -- Arvid Requate <requate@univention.de>  Mon, 04 Nov 2019 17:02:11 +0100

univention-office365 (2.0.2-17) unstable; urgency=medium

  * Bug #50444: Fix import in UMC Wizard code

 -- Erik Damrose <damrose@univention.de>  Mon, 04 Nov 2019 15:03:09 +0100

univention-office365 (2.0.2-16) unstable; urgency=medium

  * Bug #50444: Setup default ad connection when installing

 -- Erik Damrose <damrose@univention.de>  Sun, 03 Nov 2019 16:57:53 +0100

univention-office365 (2.0.2-15) unstable; urgency=medium

  * Bug #50433: Convert to new wording: Azure AD Connection

 -- Arvid Requate <requate@univention.de>  Wed, 30 Oct 2019 14:37:22 +0100

univention-office365 (2.0.2-14) unstable; urgency=medium

  * Bug #50433: Renamed migration script

 -- Erik Damrose <damrose@univention.de>  Wed, 30 Oct 2019 10:27:17 +0100

univention-office365 (2.0.2-13) unstable; urgency=medium

  * Bug #50433: New UCR variable office365/migrate/adconnectionalias

 -- Arvid Requate <requate@univention.de>  Tue, 29 Oct 2019 12:40:17 +0100

univention-office365 (2.0.2-12) unstable; urgency=medium

  * Bug #50324: Adapt merge

 -- Erik Damrose <damrose@univention.de>  Thu, 10 Oct 2019 17:42:07 +0200

univention-office365 (2.0.2-11) unstable; urgency=medium

  * Bug #50324: Move multi-connection scripts to expected location in srcpkg

 -- Erik Damrose <damrose@univention.de>  Tue, 08 Oct 2019 17:38:33 +0200

univention-office365 (2.0.2-10) unstable; urgency=medium

  * Bug #50324: Fix ucslint

 -- Erik Damrose <damrose@univention.de>  Tue, 08 Oct 2019 17:31:13 +0200

univention-office365 (2.0.2-9) unstable; urgency=low

  * Bug #50324: add multi-connection support

 -- Daniel Troeder <troeder@univention.de>  Mon, 23 Oct 2017 13:13:44 +0200

univention-office365 (2.0.2-8) unstable; urgency=medium

  * Bug #49699: Improve o365_usertokens script logging

 -- Erik Damrose <damrose@univention.de>  Mon, 12 Aug 2019 17:46:12 +0200

univention-office365 (2.0.2-7) unstable; urgency=medium

  * Bug #49699: Add usertoken reset ldap attribute and cronjob
    The script o365_usertokens handles the reset

 -- Erik Damrose <damrose@univention.de>  Mon, 05 Aug 2019 17:38:36 +0200

univention-office365 (2.0.2-6) unstable; urgency=medium

  * Bug #49416: Adapt setup wizard to current Azure API and Layout

 -- Erik Damrose <damrose@univention.de>  Tue, 02 Jul 2019 14:36:31 +0200

univention-office365 (2.0.2-5) unstable; urgency=medium

  * Bug #48237: Add SingleLogoutService to SAML configuration

 -- Erik Damrose <damrose@univention.de>  Thu, 20 Jun 2019 14:28:29 +0200

univention-office365 (2.0.2-4) unstable; urgency=medium

  * Bug #49216: remove unused simplejson

 -- Florian Best <best@univention.de>  Tue, 02 Apr 2019 12:25:41 +0200

univention-office365 (2.0.2-3) unstable; urgency=low

  * Bug #48688: use new join script API in unjoin script

 -- Daniel Troeder <troeder@univention.de>  Mon, 11 Mar 2019 09:44:54 +0100

univention-office365 (2.0.2-2) unstable; urgency=medium

  * Bug #48688: revert

 -- Florian Best <best@univention.de>  Mon, 25 Feb 2019 11:45:15 +0100

univention-office365 (2.0.2-1) unstable; urgency=medium

  * Bug #48688: Adjust Office365 for App Tabs

 -- Florian Best <best@univention.de>  Mon, 18 Feb 2019 17:57:05 +0100

univention-office365 (2.0.1-1) unstable; urgency=medium

  * Bug #48688: adjust app to use app tabs

 -- Florian Best <best@univention.de>  Fri, 15 Feb 2019 11:22:54 +0100

univention-office365 (2.0.0-12) unstable; urgency=low

  * Bug #48493: fix traceback in case of resync

 -- Daniel Troeder <troeder@univention.de>  Fri, 18 Jan 2019 11:27:46 +0100

univention-office365 (2.0.0-11) unstable; urgency=low

  * Bug #48286: remove unused log files

 -- Daniel Troeder <troeder@univention.de>  Thu, 06 Dec 2018 09:34:40 +0100

univention-office365 (2.0.0-10) unstable; urgency=medium

  * Bug #45508: Adapt package to allow installation on DC backup.
  * Use machine certificate for API connection

 -- Erik Damrose <damrose@univention.de>  Wed, 25 Jul 2018 10:01:04 +0200

univention-office365 (2.0.0-9) unstable; urgency=medium

  * Bug #45537: Add dependency to required univention-saml version

 -- Erik Damrose <damrose@univention.de>  Tue, 24 Jul 2018 11:38:18 +0200

univention-office365 (2.0.0-8) unstable; urgency=medium

  * Bug #45537: Replicate SAML metadata to all SSO servers by storing it
    in LDAP
  * Store values for UCRv saml/idp/ldap/get_attributes for the app in LDAP

 -- Erik Damrose <damrose@univention.de>  Wed, 18 Jul 2018 16:26:10 +0200

univention-office365 (2.0.0-7) unstable; urgency=medium

  * Bug #46715: Update instructions to setup required powershell modules

 -- Erik Damrose <damrose@univention.de>  Thu, 29 Mar 2018 10:18:22 +0200

univention-office365 (2.0.0-6) unstable; urgency=low

  * Bug #46259: fix typo

 -- Daniel Troeder <troeder@univention.de>  Tue, 06 Mar 2018 13:12:57 +0100

univention-office365 (2.0.0-5) unstable; urgency=low

  * Bug #45425: fix translation

 -- Daniel Troeder <troeder@univention.de>  Tue, 06 Mar 2018 12:50:04 +0100

univention-office365 (2.0.0-4) unstable; urgency=low

  * Bug #46259: fix to restrictive group LDAP filter

 -- Daniel Troeder <troeder@univention.de>  Tue, 06 Mar 2018 12:22:01 +0100

univention-office365 (2.0.0-3) unstable; urgency=low

  * Bug #46259: adapt to changes on disabled/locked property in UCS 4.3

 -- Daniel Troeder <troeder@univention.de>  Tue, 06 Mar 2018 11:20:39 +0100

univention-office365 (2.0.0-2) unstable; urgency=low

  * Bug #46493: add instructions to wizard for additional permission granting
    step
  * Bug #45425: update texts and screenshots to guide through new Azure portal

 -- Daniel Troeder <troeder@univention.de>  Mon, 05 Mar 2018 20:20:19 +0100

univention-office365 (2.0.0-1) unstable; urgency=low

  * Bug #46259: version bump for UCS 4.3

 -- Daniel Troeder <troeder@univention.de>  Thu, 01 Mar 2018 21:39:22 +0100

univention-office365 (1.0.1-11) unstable; urgency=low

  * Bug #45729: no need to search for udm_groups_with_azure_users twice: if
    result is an empty list nothing will happen
  * Bug #45729: UMC wizard package and main package must have same version
  * handle "Subscription with SKU ... does not have any available licenses."

 -- Daniel Troeder <troeder@univention.de>  Thu, 01 Mar 2018 16:18:22 +0100

univention-office365 (1.0.1-10) unstable; urgency=low

  * Bug #43294: remove empty methods
  * fix call to super class
  * remove code already in super class
  * PEP8

 -- Daniel Troeder <troeder@univention.de>  Wed, 21 Feb 2018 10:30:16 +0100

univention-office365 (1.0.1-9) unstable; urgency=low

  * Bug #45729: handle activating group that already has Azure users

 -- Daniel Troeder <troeder@univention.de>  Wed, 21 Feb 2018 10:03:05 +0100

univention-office365 (1.0.1-8) unstable; urgency=low

  * Bug #45507: fix typo

 -- Daniel Troeder <troeder@univention.de>  Mon, 19 Feb 2018 17:48:45 +0100

univention-office365 (1.0.1-7) unstable; urgency=low

  * Bug #45507: backport fix to correctly handle empty response
  * Bug #45507: backport central config file path handling
  * Bug #45507: backport setting owner of session and settings files
  * Bug #45507: backport cosmetic fixes
  * Bug #45507: backport improved filtering
  * Bug #45507: backport improved group handling
  * Bug #45507: backport improved LDAP objects querying
  * Bug #45507: backport refactoring for better readability

 -- Daniel Troeder <troeder@univention.de>  Mon, 19 Feb 2018 17:41:00 +0100

univention-office365 (1.0.1-6) unstable; urgency=low

  * Bug #44836: get proxy configuration when called from wizard (without
    running AzureAuth.__init__)

 -- Daniel Troeder <troeder@univention.de>  Wed, 11 Oct 2017 14:42:35 +0200

univention-office365 (1.0.1-5) unstable; urgency=low

  * Bug #44836: update copyright

 -- Daniel Troeder <troeder@univention.de>  Mon, 18 Sep 2017 16:22:00 +0200

univention-office365 (1.0.1-4) unstable; urgency=low

  * Bug #44836: add http(s) proxy support
  * settings found in the following order will be used:
  * UCRVs office365/proxy/http(s), UCRVs proxy/http(s), environment

 -- Daniel Troeder <troeder@univention.de>  Mon, 18 Sep 2017 16:12:48 +0200

univention-office365 (1.0.1-3) unstable; urgency=medium

  * Bug #43995: Adapt invoke-rc.d calls

 -- Erik Damrose <damrose@univention.de>  Tue, 28 Mar 2017 16:58:58 +0200

univention-office365 (1.0.1-2) unstable; urgency=medium

  * Bug #43703: Update UCS screenshots

 -- Erik Damrose <damrose@univention.de>  Tue, 28 Mar 2017 12:17:19 +0200

univention-office365 (1.0.1-1) unstable; urgency=medium

  * Bug #43582: fix sanitizers API

 -- Florian Best <best@univention.de>  Thu, 02 Mar 2017 11:37:13 +0100

univention-office365 (1.0.0-1) unstable; urgency=medium

  * Bug #43582: adjust paths for UCS 4.2

 -- Florian Best <best@univention.de>  Mon, 20 Feb 2017 11:17:38 +0100

univention-office365 (0.2.13-1) unstable; urgency=low

  * Bug #43064: adapt code to subscription being a single value UDM property
  * cleanup SubscriptionProfile
  * fix whitelist / blacklist calculation
  * refactor udm_helper to reduce duplicate code
  * restart umc-server to make it aware of new syntax
  * add test that checks license assignment and plan restrictions
    (92_office365/06_udm_group_members)

 -- Daniel Troeder <troeder@univention.de>  Tue, 13 Dec 2016 21:22:23 +0100

univention-office365 (0.2.12-18) unstable; urgency=medium

  * Bug #41219: Fix typo in path

 -- Erik Damrose <damrose@univention.de>  Tue, 13 Dec 2016 12:38:23 +0100

univention-office365 (0.2.12-17) unstable; urgency=medium

  * Bug #43134: Fix udm attribute renaming, add translation

 -- Erik Damrose <damrose@univention.de>  Mon, 12 Dec 2016 14:59:22 +0100

univention-office365 (0.2.12-16) unstable; urgency=low

  * Bug #41256: fix modify_user() making list of azure single value fields

 -- Daniel Troeder <troeder@univention.de>  Fri, 09 Dec 2016 13:40:48 +0100

univention-office365 (0.2.12-15) unstable; urgency=low

  * Bug #41256: the list with the values of the otherMails attribute must be
    deduplicated in a case insensitive manner

 -- Daniel Troeder <troeder@univention.de>  Fri, 09 Dec 2016 13:03:17 +0100

univention-office365 (0.2.12-14) unstable; urgency=medium

  * Bug #43134: Load profiles via udm in listener
  * Fix position of profiles container
  * Adapt udm attribute names to code
  * Fix call to _change_license
  * Add logging to profile loading

 -- Erik Damrose <damrose@univention.de>  Thu, 08 Dec 2016 17:08:17 +0100

univention-office365 (0.2.12-13) unstable; urgency=low

  * Bug #41219: Add stop_udm_cli_server call, fix object unregister
  * Bug #43134: Implement maintaining of service plans and subscriptions

 -- Erik Damrose <damrose@univention.de>  Wed, 07 Dec 2016 14:32:31 +0100

univention-office365 (0.2.12-12) unstable; urgency=low

  * Bug #41256: recreate userPrincipalName if mailPrimaryAddress changed
  * fix multiple value field handling

 -- Daniel Troeder <troeder@univention.de>  Wed, 07 Dec 2016 09:04:01 +0100

univention-office365 (0.2.12-11) unstable; urgency=low

  * Bug #43064: list licenses (even if all plans were deactivated)
  * fix Consumed<->Remaining transposition

 -- Daniel Troeder <troeder@univention.de>  Wed, 07 Dec 2016 08:36:15 +0100

univention-office365 (0.2.12-10) unstable; urgency=low

  * Bug #43064: add support for subscription profiles
  * Bug #43064: rename user/subscription scripts

 -- Daniel Troeder <troeder@univention.de>  Tue, 06 Dec 2016 08:12:53 +0100

univention-office365 (0.2.12-9) unstable; urgency=low

  * Bug #43064: add OFFICESUBSCRIPTION to list of plans used to identify
    office subscritions
  * Bug #43064: add cmdline script to help users identify their
    subscription names and associated plans
  * Bug #43064: modify user/group printing script to display plans in use
    by each user

 -- Daniel Troeder <troeder@univention.de>  Mon, 05 Dec 2016 16:16:29 +0100

univention-office365 (0.2.12-8) unstable; urgency=low

  * Bug #43025: fix log output

 -- Daniel Troeder <troeder@univention.de>  Wed, 23 Nov 2016 11:30:48 +0100

univention-office365 (0.2.12-7) unstable; urgency=low

  * Bug #43025: wizard logs successful retrieval of user accounts to simplify
    user support

 -- Daniel Troeder <troeder@univention.de>  Mon, 21 Nov 2016 17:02:34 +0100

univention-office365 (0.2.12-6) unstable; urgency=low

  * Bug #40924: listen for 'userPassword' to detect locked=posix
  * add test for Bug #40924
  * fix other tests

 -- Daniel Troeder <troeder@univention.de>  Fri, 11 Nov 2016 10:59:55 +0100

univention-office365 (0.2.12-5) unstable; urgency=low

  * Bug #40924: honor account deactivation
  * Bug #41256: create userPrincipalName from mailPrimaryAddress, makes
    mailPrimaryAddress mandatory, checked by UDM hook
  * wording and indentation fixes

 -- Daniel Troeder <troeder@univention.de>  Thu, 10 Nov 2016 09:13:02 +0100

univention-office365 (0.2.12-4) unstable; urgency=medium

  * Bug #41259: Update logos

 -- Erik Damrose <damrose@univention.de>  Wed, 25 May 2016 14:08:22 +0200

univention-office365 (0.2.12-3) unstable; urgency=medium

  * Bug #38950: do not use default simplesamlphp include directory

 -- Erik Damrose <damrose@univention.de>  Mon, 02 May 2016 16:22:28 +0200

univention-office365 (0.2.12-2) unstable; urgency=low

  * Bug #40294: check format of metadata document address

 -- Daniel Troeder <troeder@univention.de>  Mon, 02 May 2016 14:32:42 +0200

univention-office365 (0.2.12-1) unstable; urgency=medium

  * Bug #40294: fix typos

 -- Florian Best <best@univention.de>  Mon, 02 May 2016 11:27:28 +0200

univention-office365 (0.2.11-4) unstable; urgency=low

  * Bug #40294: update UMC users module screenshot

 -- Daniel Troeder <troeder@univention.de>  Mon, 02 May 2016 10:48:15 +0200

univention-office365 (0.2.11-3) unstable; urgency=medium

  * Bug #38950: Remove overview links in unjoin script

 -- Erik Damrose <damrose@univention.de>  Mon, 02 May 2016 10:19:30 +0200

univention-office365 (0.2.11-2) unstable; urgency=medium

  * Bug #40294: Add informative sentence to wizard

 -- Erik Damrose <damrose@univention.de>  Fri, 29 Apr 2016 17:21:43 +0200

univention-office365 (0.2.11-1) unstable; urgency=medium

  * Bug #40294: prevent form submit via return

 -- Florian Best <best@univention.de>  Fri, 29 Apr 2016 16:19:38 +0200

univention-office365 (0.2.10-3) unstable; urgency=medium

  * Bug #38950: Use correct logout url

 -- Erik Damrose <damrose@univention.de>  Fri, 29 Apr 2016 11:45:49 +0200

univention-office365 (0.2.10-2) unstable; urgency=medium

  * Bug #38950: Update single-sign-on screenshots

 -- Erik Damrose <damrose@univention.de>  Fri, 29 Apr 2016 11:00:13 +0200

univention-office365 (0.2.10-1) unstable; urgency=medium

  * Bug #40294: text changes

 -- Florian Best <best@univention.de>  Fri, 29 Apr 2016 10:14:54 +0200

univention-office365 (0.2.9-3) unstable; urgency=medium

  * Bug #38950: Adapt windows script

 -- Erik Damrose <damrose@univention.de>  Thu, 28 Apr 2016 19:53:21 +0200

univention-office365 (0.2.9-2) unstable; urgency=medium

  * Bug #38950: Incorporate last changes into single sign-on configuration

 -- Erik Damrose <damrose@univention.de>  Thu, 28 Apr 2016 16:01:18 +0200

univention-office365 (0.2.9-1) unstable; urgency=medium

  * Bug #40294: Add SAML configuration page

 -- Florian Best <best@univention.de>  Wed, 27 Apr 2016 21:10:49 +0200

univention-office365 (0.2.8-2) unstable; urgency=low

  * Bug #38950: use MS verified domain from wizard
  * add UDM hook to set UniventionOffice365userPrincipalName from
    UniventionOffice365Data
  * refactor translation method name to default
  * add translations

 -- Daniel Troeder <troeder@univention.de>  Wed, 27 Apr 2016 10:45:11 +0200

univention-office365 (0.2.8-1) unstable; urgency=medium

  * Bug #40294: ask for domain name, add single sign on setup page

 -- Florian Best <best@univention.de>  Wed, 27 Apr 2016 13:05:57 +0200

univention-office365 (0.2.7-2) unstable; urgency=medium

  * Bug #38950: Add single sign-on

 -- Erik Damrose <damrose@univention.de>  Tue, 26 Apr 2016 18:00:59 +0200

univention-office365 (0.2.7-1) unstable; urgency=medium

  * Bug #40294: fix download in IE11

 -- Florian Best <best@univention.de>  Thu, 21 Apr 2016 13:52:47 +0200

univention-office365 (0.2.6-1) unstable; urgency=medium

  * Bug #40294: fix hanging process due to german umlauts in the authorize
    response

 -- Florian Best <best@univention.de>  Wed, 20 Apr 2016 13:36:27 +0200

univention-office365 (0.2.5-1) unstable; urgency=medium

  * Bug #40294: enhance wizard

 -- Florian Best <best@univention.de>  Wed, 20 Apr 2016 12:05:07 +0200

univention-office365 (0.2.4-1) unstable; urgency=medium

  * Bug #40294: add page about UCR configuration

 -- Florian Best <best@univention.de>  Mon, 18 Apr 2016 15:10:19 +0200

univention-office365 (0.2.3-5) unstable; urgency=low

  * Bug #40294: add shadow to wizard pictures

 -- Daniel Troeder <troeder@univention.de>  Tue, 12 Apr 2016 16:13:11 +0200

univention-office365 (0.2.3-4) unstable; urgency=low

  * Bug #38950: be explicit about listener state
  * switch on debugging when running ucs-tests

 -- Daniel Troeder <troeder@univention.de>  Tue, 12 Apr 2016 09:28:51 +0200

univention-office365 (0.2.3-3) unstable; urgency=low

  * Bug #40294: add translated images

 -- Daniel Troeder <troeder@univention.de>  Fri, 08 Apr 2016 14:37:56 +0200

univention-office365 (0.2.3-2) unstable; urgency=medium

  * Bug #40294: fix typo

 -- Florian Best <best@univention.de>  Fri, 08 Apr 2016 12:44:09 +0200

univention-office365 (0.2.2-3) unstable; urgency=low

  * add translations (Bug #40294)

 -- Daniel Troeder <troeder@univention.de>  Fri, 08 Apr 2016 12:30:01 +0200

univention-office365 (0.2.2-2) unstable; urgency=medium

  * Bug #40294: changelog

 -- Florian Best <best@univention.de>  Fri, 08 Apr 2016 12:03:53 +0200

univention-office365 (0.2.2-1) unstable; urgency=medium

  * Bug #40294: Implement UMC Wizard

 -- Florian Best <best@univention.de>  Thu, 07 Apr 2016 13:39:33 +0200

univention-office365 (0.2.1-5) unstable; urgency=low

  * fix syncing of removed attributes (Bug #40295)
  * replace unspecific Exceptions
  * create UCRV to handle usageLocation
  * add test for usageLocation handling

 -- Daniel Troeder <troeder@univention.de>  Tue, 05 Apr 2016 13:54:57 +0200

univention-office365 (0.2.1-4) unstable; urgency=low

  * Bug #40295: consistent exception handling
  * i18n of error messages

 -- Daniel Troeder <troeder@univention.de>  Mon, 04 Apr 2016 15:33:47 +0200

univention-office365 (0.2.1-3) unstable; urgency=medium

  * Bug #40294: Show progressbar when opening consent-tab
  * Add flag to tokens.json as additional is_initialized check

 -- Erik Damrose <damrose@univention.de>  Fri, 01 Apr 2016 16:02:11 +0200

univention-office365 (0.2.1-2) unstable; urgency=medium

  * Bug #40294: Adapt wizard connectiontest functionality

 -- Erik Damrose <damrose@univention.de>  Fri, 01 Apr 2016 14:40:34 +0200

univention-office365 (0.2.1-1) unstable; urgency=low

  * Bug #40295: use python logging (to univention debug)
  * map logging.info to ud.PROCESS

 -- Daniel Troeder <troeder@univention.de>  Thu, 31 Mar 2016 12:24:10 +0200

univention-office365 (0.1.9-8) unstable; urgency=medium

  * Bug #40294: Implement UMC Wizard

 -- Florian Best <best@univention.de>  Tue, 22 Mar 2016 14:13:09 +0100

univention-office365 (0.1.9-7) unstable; urgency=low

  * store "old" in JSON instead of pickle (Bug #40295)
  * add test for anonymization, blocking and static sync settings

 -- Daniel Troeder <troeder@univention.de>  Thu, 17 Mar 2016 15:19:29 +0100

univention-office365 (0.1.9-6) unstable; urgency=low

  * Bug #40295: handle properties whos value are fed from multiple LDAP
    attributes
  * add test for user modifications

 -- Daniel Troeder <troeder@univention.de>  Wed, 16 Mar 2016 12:36:18 +0100

univention-office365 (0.1.9-5) unstable; urgency=low

  * prevent properties with duplicate values (Bug #40295)
  * add test to check user synchronization
  * store object ID when modifiying groups
  * fix UCRVs (LDAP attribute names)

 -- Daniel Troeder <troeder@univention.de>  Wed, 16 Mar 2016 10:58:15 +0100

univention-office365 (0.1.9-4) unstable; urgency=low

  * add error handling to join script (Bug #40295)
  * enhance ucs-tests, add tests
  * add print_users_and_groups script
  * don't sync user pictures (upload format undocumented)
  * fix nested groups creation
  * fix automatic empty [nested] groups removal
  * handle desync (groups disappearing in Azure AD)

 -- Daniel Troeder <troeder@univention.de>  Tue, 15 Mar 2016 09:55:25 +0100

univention-office365 (0.1.9-3) unstable; urgency=medium

  * Bug #38950: Create SAML serviceprovider entry
  * Create Office 365 user template
  * Small adjustments for UMC wizard

 -- Erik Damrose <damrose@univention.de>  Mon, 14 Mar 2016 14:58:19 +0100

univention-office365 (0.1.9-2) unstable; urgency=low

  * raise robustness (Bug #40295)
  * add ucs-tests using handler directly

 -- Daniel Troeder <troeder@univention.de>  Thu, 10 Mar 2016 20:14:10 +0100

univention-office365 (0.1.9-1) unstable; urgency=low

  * move UCRVs to join script, add ucs-test package (Bug #40295)

 -- Daniel Troeder <troeder@univention.de>  Wed, 09 Mar 2016 16:33:32 +0100

univention-office365 (0.1.8-2) unstable; urgency=low

  * restart listener if wizard had success (Bug #40295)
  * remove dangling '\n' from base64.encodestring()
  * handle empty UCRV

 -- Daniel Troeder <troeder@univention.de>  Tue, 08 Mar 2016 15:47:34 +0100

univention-office365 (0.1.8-1) unstable; urgency=low

  * Bug #40295: make list of plan names used to detect office 365 subscription
    configurable with UCRV office365/subscriptions/service_plan_names
  * handle insufficient subscriptions

 -- Daniel Troeder <troeder@univention.de>  Tue, 08 Mar 2016 09:48:39 +0100

univention-office365 (0.1.7-1) unstable; urgency=medium

  * Bug #40294: remove the apache mod_wsgi thing. It is handled by UMC
  	directly.

 -- Florian Best <best@univention.de>  Thu, 11 Feb 2016 16:56:30 +0100

univention-office365 (0.1.6) unstable; urgency=medium

  * Bug #40294: Implement wizard

 -- Florian Best <best@univention.de>  Wed, 10 Feb 2016 14:43:27 +0100

univention-office365 (0.1.5) unstable; urgency=low

  * use univention-certificate to create SSL certificate (Bug #38950)

 -- Daniel Troeder <troeder@univention.de>  Tue, 02 Feb 2016 12:58:52 +0100

univention-office365 (0.1.4) unstable; urgency=low

  * Bug #40291: current python-jwt and python-cryptography were imported into
    office365 scope, code can depend on it now.

 -- Daniel Troeder <troeder@univention.de>  Mon, 01 Feb 2016 15:47:23 +0100

univention-office365 (0.1.3) unstable; urgency=low

  * add UCRV office365/groups/sync to enable syncing of groups to AzureAD,
    default is off (Bug #40295)

 -- Daniel Troeder <troeder@univention.de>  Fri, 22 Jan 2016 18:47:55 +0100

univention-office365 (0.1.2) unstable; urgency=low

  * use entryUUID as immutableId for searching users in absence of an Azure
    object ID (Bug #40295)
  * cope with missing object ID (during listner resync)
  * retry on server error (500)
  * joinscript backups previous files (keys etc)
  * permissions set for listener only, wizard will have to temporarily change
    them when its running

 -- Daniel Troeder <troeder@univention.de>  Fri, 22 Jan 2016 18:22:30 +0100

univention-office365 (0.1.1) unstable; urgency=low

  * find and add license to user account (Bug #40295)
  * fix SSL certificate generation

 -- Daniel Troeder <troeder@univention.de>  Wed, 20 Jan 2016 18:21:11 +0100

univention-office365 (0.1.0) unstable; urgency=low

  * add group listener (Bug #40295)
  * add extended attribute for Azure object ID of syncronized groups
  * fix None being converted to str
  * fix group membership handling
  * support nested groups
  * make listener methods useable outside of listener

 -- Daniel Troeder <troeder@univention.de>  Fri, 08 Jan 2016 14:22:53 +0100

univention-office365 (0.0.9) unstable; urgency=low

  * deleting a UCS user renames the Azure user, so a new user with the name
    won't have access to the old users data, deactivated UCS users are still
    kept and just deactivated on the Azure side (Bug #40295)
  * use aggregation instead of inheritance in listener impl
  * use UniventionOffice365Data

 -- Daniel Troeder <troeder@univention.de>  Mon, 04 Jan 2016 10:48:12 +0100

univention-office365 (0.0.8) unstable; urgency=low

  * fix duplicate attributes (Bug #40295)
  * mark immutableId for possible UMC cleanup page

 -- Daniel Troeder <troeder@univention.de>  Wed, 30 Dec 2015 15:55:46 +0100

univention-office365 (0.0.7) unstable; urgency=low

  * add support for multiple value objects (Bug #40295)
  * when deactivating a user, do not set immutableId=None, as that is not
    unique...
  * remove strange data from attributes

 -- Daniel Troeder <troeder@univention.de>  Wed, 30 Dec 2015 10:15:33 +0100

univention-office365 (0.0.6) unstable; urgency=low

  * add support to modify azure user (Bug #40295)
  * prepare date according to azure attribute types
  * create azure compatible secure passwords
  * log function name
  * hide user password when logging

 -- Daniel Troeder <troeder@univention.de>  Tue, 29 Dec 2015 20:52:16 +0100

univention-office365 (0.0.5) unstable; urgency=low

  * Create and delete (deactivate) azure user (Bug #40295)
  * UCRs list LDAP attributes now, not UDM attributes
  * lower logging (less and moved more to debug level)

 -- Daniel Troeder <troeder@univention.de>  Tue, 29 Dec 2015 15:00:08 +0100

univention-office365 (0.0.4) unstable; urgency=low

  * rework UCR handling (Bug #40295)

 -- Daniel Troeder <troeder@univention.de>  Mon, 21 Dec 2015 16:47:03 +0100

univention-office365 (0.0.3) unstable; urgency=low

  * add extended attributes, LDAP schema (Bug #38950)
  * move listener pickle file to safe location
  * wrap token/id file access functions in setuid(0)

 -- Daniel Troeder <troeder@univention.de>  Wed, 16 Dec 2015 17:08:43 +0100

univention-office365 (0.0.2) unstable; urgency=low

  * oauth handling now uses client assertions with certificates (Bug #38950)
  * cleaned up API calls
  * UMC wizard simulation
  * listener stub
  * packaging fixes
  * join script creates certificates
  * JWT tokens are verified if newer versions of python-cryptography and
    python-jwt are installed

 -- Daniel Troeder <troeder@univention.de>  Wed, 16 Dec 2015 15:18:57 +0100

univention-office365 (0.0.1) unstable; urgency=low

  * Initial release. (Bug #38950)

 -- Daniel Troeder <troeder@univention.de>  Tue, 11 Aug 2015 14:02:21 +0200
