interactions:
- request:
    body: '{"displayName": "user_test_delete", "mailNickname": "user_test_delete",
      "accountEnabled": true, "onPremisesImmutableId": "6e8dee40-8fdd-438f-9a55-1d0fa694e58d",
      "passwordProfile": {"forceChangePasswordNextSignIn": true, "password": "1*#yxiLJebYQa"},
      "usageLocation": "DE", "userPrincipalName": "user_test_delete@univentiontestgmbh.onmicrosoft.com"}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '348'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: POST
    uri: https://graph.microsoft.com/v1.0/users
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECnSQy2rDQAxF/0XN0o+YhsaeVT4glCy6KyXIssZWGc+YGTk0lP57cUwCXXQn3YsO
        B33DIXSoWFDwyl8KBgbVKZmy7CNOQzEKxZCC1YLCWF6qYltuRlZcjp7mxDGVG/YqeoUMpAMDnaXm
        Zf9MOdGuzXd1ZXO0SPmWqmpPTdXUNUIG7ZzEc0qnIXhOYN4/MugkTQ6vrzgyGFjoZ+Wk544dK0MG
        vVzYr7WfncvgM7Rvoo7BrPuI4h5zaMXxjX+PgrVCfAyEKsHf0ymy5Ri5O6LvZ+wftDRHf3NZ4YvQ
        KYonmdD9I3mY/eK44Bf1fmyHIvg/X4SfXwAAAP//AwBeex2gdgEAAA==
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:41:58 GMT
      Location:
      - https://graph.microsoft.com/v2/3e7d9eb5-c3a1-4cfc-892e-a8ec29e45b77/directoryObjects/dfc9673c-cc4b-481f-afac-0c117c91988a/Microsoft.DirectoryServices.User
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - c6836d13-593b-4fe5-9320-d32356070164
      request-id:
      - c6836d13-593b-4fe5-9320-d32356070164
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DA9"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/users/dfc9673c-cc4b-481f-afac-0c117c91988a?$select=assignedLicenses,otherMails,businessPhones,displayName,givenName,jobTitle,mail,mobilePhone,officeLocation,preferredLanguage,surname,userPrincipalName,id,accountEnabled,onPremisesImmutableId,mailNickname,city,usageLocation,postalCode,streetAddress,assignedPlans
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECmyTT2/bMAzFvwvXwwbQSYwmqeNTh62HAlmRw25DUdAS7WiTJUOUiwXDvvsgd8of
        NDfpyaLI33v+A/deU6SZ8i7y7wg17GMcpJ7Pu0DDftYbFbz4Ns6U7+ev5Wwxv+k5Urr0YRQO8pFE
        TOdYb41iJyzo457DNzJWsBnFOBbZ7b1jQW1ksHR4op6xM6/sptVP33w30TL2ZCz2vjGWpwvo29Yo
        3npF0XiHQ+CWQ2C9JdeN1DHKGFwqljrZBeOUGchORY1GUsqPLj44aixr9G4XuDfC8tj3Y0zio57e
        fDLq11RGmXjAUag7e9NLJPvFa0aJgTl+1jqwCOaxd5acfJrfsIsmHgDhND7UP54RLhm8aWcgoIbU
        /UtkiS+aLUcGhCMdqN1oLUKGlPeJ1XF9QpalS3JZfQcwH/znmLfvcF5p8n50ycFkTGq965v9zLuL
        vACC0VCDbtVmfXerCqWWTbGsyragllSxUGV5pzblpqoIEC79gjqGkRGu2gY1rLnSzMtFUbVaF8vb
        qi02tFoVpV60tN4seVVpQEicsr9XpgCEZPpp8DPvoYavD4AwHCOQP7tIQhZzIPJ/8OZ0VqeYJOnv
        PwAAAP//AwDXdJBkdAMAAA==
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:41:59 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 010fc4bd-1318-4c94-a624-0eb048bc7ed2
      request-id:
      - 010fc4bd-1318-4c94-a624-0eb048bc7ed2
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF0000350B"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"displayName": "ZZZ_deleted_1654497719.5920043_user_test_delete", "mailNickname":
      "ZZZ_deleted_1654497719.592012_user_test_delete", "accountEnabled": false, "otherMails":
      [], "userPrincipalName": "ZZZ_deleted_1654497719.5920146_user_test_delete@univentiontestgmbh.onmicrosoft.com"}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '282'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: PATCH
    uri: https://graph.microsoft.com/v1.0/users/dfc9673c-cc4b-481f-afac-0c117c91988a
  response:
    body:
      string: ''
    headers:
      Cache-Control:
      - no-cache
      Date:
      - Mon, 06 Jun 2022 06:41:59 GMT
      Strict-Transport-Security:
      - max-age=31536000
      client-request-id:
      - 54f5ebd1-d802-4134-80d7-af1dddc366df
      request-id:
      - 54f5ebd1-d802-4134-80d7-af1dddc366df
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF000033AA"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/directoryObjects/dfc9673c-cc4b-481f-afac-0c117c91988a/memberOf
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEClzNYQqCMBQA4Ls8Awvc5khS96sbeIDox/O5pdGazJck0d0jIoIO8PE9YB86ZJQU
        rmzvDAZ65nEySp0ijr30A8UwBceSglezlrlaecv4Rkk3REsc4tK0Z0s8rdPOUb0rtySIilYUlXYC
        HZLISeuSal1XFaYb5a1vbWwcZN+fl9GCgeT3ff6/AjKY8XKzYA7H5wsAAP//AwBpTMeSvQAAAA==
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:42:00 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - bc4d46e0-6447-45c3-a67b-e21ec11df9ec
      request-id:
      - bc4d46e0-6447-45c3-a67b-e21ec11df9ec
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DB9"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/users/dfc9673c-cc4b-481f-afac-0c117c91988a?$select=assignedLicenses
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEClzLMQ7CMAwF0LuYDiBVMayZOEBvgBis1KQZElfxpwIh7o5YOz+9D11tFkhI1qAv
        UKQFWD0y5y7rEmpJ3dweCMkqb5dw5qEq5J8OT9fuR3Evuek8laTN1U88aEPBm0baG8Xb/fsDAAD/
        /wMAp505iHUAAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:42:00 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 387202f1-9fa4-461a-8d0d-54620d4737b3
      request-id:
      - 387202f1-9fa4-461a-8d0d-54620d4737b3
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DA8"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/users/dfc9673c-cc4b-481f-afac-0c117c91988a?$select=assignedLicenses,otherMails,businessPhones,displayName,givenName,jobTitle,mail,mobilePhone,officeLocation,preferredLanguage,surname,userPrincipalName,id,accountEnabled,onPremisesImmutableId,mailNickname,city,usageLocation,postalCode,streetAddress,assignedPlans
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECoSTzW7bMBCE32WbQwtQshTLtqRTijaHAG7gQ08OCmNFrmS2FCloqaBB0Xcv6IT+
        gYv2Rg7JJefb4S+4cwo9ptJZTz891LD3fuB6NutGHPZpr+Xo2LU+la6fPedpNrvpyWM49G5iGvk9
        MuvOklprSZaJhfN7Gr+gNiyaibUl5s3eWWKhNA8GXx6xJ9HpZ7KH0XfXfNXekOhRG9G7Rhs6HBCu
        bbWktZPotbNiGKmlcSS1RttN2JHgabShWHjJZtRW6gHNoahWAqV0k/X3FhtDSji7GanXTPzQ95MP
        4oM63Pmo5Y9DGan9i5gYu7M7HXs0n5wiwX4k8h+VGolZRNsbg5Y/zG7Ieu1fQMDJPtRP3wRcMnjV
        zkBADdvtdqfIkCe1y5eLoqhWq7xKF9VtlhXzXTC388T+bRMIOMKD2k7GCIgM4zygPI5PRKN0CTaq
        V3zjwhvmOL2i/W8PebG88nA32dD/0NbgrOubfersRdpAgFZQg2pltVzNZSJl0SRFmbcJtiiTTOb5
        SlZ5VZYIAi67DXWLhknAX7sONSypVERFlpStUkkxL9ukwsUiyVXW4rIqaFEqEBA4xnj8x+XtlUkQ
        EBJ1wnYWLKjh8z0IGI75itsuYhbFmLb4yV5jFNVDBoP0+w8AAAD//wMAeh2CwNEDAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:42:01 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 5c466737-9f6e-459e-9957-cc98cb4bac73
      request-id:
      - 5c466737-9f6e-459e-9957-cc98cb4bac73
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DAD"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
version: 1
