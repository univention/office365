interactions:
- request:
    body: '{"displayName": "user_test_get_assignedLicenses", "mailNickname": "user_test_get_assignedLicenses",
      "accountEnabled": true, "onPremisesImmutableId": "1c62987c-513c-4e09-a58b-1dd7fa2bc0c5",
      "passwordProfile": {"forceChangePasswordNextSignIn": true, "password": "1*#EQpXBMdFoa"},
      "usageLocation": "DE", "userPrincipalName": "user_test_get_assignedLicenses@univentiontestgmbh.onmicrosoft.com"}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '390'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: POST
    uri: https://graph.microsoft.com/v1.0/users
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECoyQTW7CQAyF7+KyzA80oUBWHABVLLqrKuQkzsTVxBONHVRU9e5VQCB11539ZL/3
        2d+wDy0aZk0Qoy+DCnqzUas8dxHHPhu4iUFDZ1kThvy8ypb5YiDDeelpUoqaL0iM7QIJcAsVlNvt
        utg9b1Jcr5Zp2RZFWr9gl1LRlYS7ckNlCQnUk7KQ6rEPQgrV+0cCLevo8fKKA0EFs/vJSO3kyE6o
        yk6oPXBDoqSQgOMzyW1YJu8T+Az1G5snqG79gOwfdajZ0zXtLoWu44YOoUHjIHd1jNRRjNQeUNyE
        7uGmU5Qr2c18xjtGloZH9P9C3k8yE89h81luqPssyJ8Pw88vAAAA//8DAHzcAbeSAQAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:51:56 GMT
      Location:
      - https://graph.microsoft.com/v2/3e7d9eb5-c3a1-4cfc-892e-a8ec29e45b77/directoryObjects/48853927-a510-4d33-b6af-e3f4ea947e44/Microsoft.DirectoryServices.User
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - ac589998-c724-47fd-9b17-6f707ed092cd
      request-id:
      - ac589998-c724-47fd-9b17-6f707ed092cd
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DB2"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/subscribedSkus
  response:
    body:
      string: !!binary |
        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
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:51:56 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 3c67d28c-4215-46e8-bbb7-bcf496383459
      request-id:
      - 3c67d28c-4215-46e8-bbb7-bcf496383459
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DB6"}}'
      x-ms-resource-unit:
      - '3'
    status:
      code: 200
      message: OK
- request:
    body: '{"addLicenses": [{"disabledPlans": [], "skuId": "6fd2c87f-b296-42f0-b197-1e91e994b900"}],
      "removeLicenses": []}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '111'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: POST
    uri: https://graph.microsoft.com/v1.0/users/48853927-a510-4d33-b6af-e3f4ea947e44/assignLicense
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECoyPy07DQAxF/8V0mUdLUmiz6gdUqAt2CFXOxJkYzSMaOxUV4t9RWhWJFV36yvfq
        nC/YxQ4VCxOD0qdCA4PqKE1Z2oTjUHg2KUrstTDRl6dVsSwXnhTn0sMklKRcUFDWM2TQTsKBRA5D
        DCTQvL1n0LGMDs8v6AkamBtHJdGjJT2iCNtA3Z4NBSGBDCyfKFyfw+RcBh+xfWV1BM319sju36Hd
        FOYd5dlK1Pp2KGL44wIZ+NiyowvsbT32PRvaR4Nz95aOiXpKibo9Bjuh/YWRKYWL2JVttjskDoZH
        dHcZ3wfKHTRQbzbravv4nON6tczrrqry9gn7nKq+JtzWz1TX8P0DAAD//wMAIiQHv9EBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:51:57 GMT
      Location:
      - https://graph.microsoft.com
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 5b5db0b6-63c4-4aa4-89e1-163fa0695e5a
      request-id:
      - 5b5db0b6-63c4-4aa4-89e1-163fa0695e5a
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002C4E"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/users/48853927-a510-4d33-b6af-e3f4ea947e44?$select=assignedLicenses
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEClzLsQ6CMBAA0H85GTQBCoSg7eRq4uBOGEp7QCO0hDuMhvDvxtX55W1wDVazTk3w
        jG8GBQPzTEqIftHzkE7OLIFCx6kJk3jlaSaiCVn/0mElXOioiVzv0d6dQU9IJxGhZ8cfiOHfQNUb
        WEe6HdE+Ru0JVN3EQM/1ZkFB1dnCXM5d0haySsqiy5I2l+ckR5mjlGUrswz2Zv8CAAD//wMA/UJq
        bLgAAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:51:58 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 5b18e19d-b55b-4320-90a4-05ed2b7a5d79
      request-id:
      - 5b18e19d-b55b-4320-90a4-05ed2b7a5d79
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002C4C"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"addLicenses": [], "removeLicenses": ["6fd2c87f-b296-42f0-b197-1e91e994b900"]}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '79'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: POST
    uri: https://graph.microsoft.com/v1.0/users/48853927-a510-4d33-b6af-e3f4ea947e44/assignLicense
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECoyQTW7CQAyF7+KyzA80oUBWHABVLLqrKuQkzsTVxBONHVRU9e5VQCB1151t+b33
        2d+wDy0aZk0Qoy+DCnqzUas8dxHHPhu4iUFDZ1kThvy8ypb5YiDDWfQ0KUXNFyTGdoEE6klZSPXY
        ByGF6v0jgZZ19Hh5xYGggllxMlI7ObITqrITag/ckCgpJOD4THJblsn7BD5D/cbmCapbPyD7Rx1q
        9nRNu49C13FDh9CgcZD7dIzUUYzUHlDchO7hplOUK9nNfMY7RpaGR/T/Qt5PMhPPYfNZbqj7LMif
        r0EC3EIF5Xa7LnbPmxTXq2VatkWR1i/YpVR0JeGu3FBZws8vAAAA//8DAIXb/BOSAQAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:51:58 GMT
      Location:
      - https://graph.microsoft.com
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 8bf275ae-5212-4d6d-b8dd-7435469ad98d
      request-id:
      - 8bf275ae-5212-4d6d-b8dd-7435469ad98d
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DC1"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"displayName": "ZZZ_deleted_1654498318.8048089_user_test_get_assignedLicenses",
      "mailNickname": "ZZZ_deleted_1654498318.804815_user_test_get_assignedLicenses",
      "accountEnabled": false, "otherMails": [], "userPrincipalName": "ZZZ_deleted_1654498318.8048167_user_test_get_assignedLicenses@univentiontestgmbh.onmicrosoft.com"}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '324'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: PATCH
    uri: https://graph.microsoft.com/v1.0/users/48853927-a510-4d33-b6af-e3f4ea947e44
  response:
    body:
      string: ''
    headers:
      Cache-Control:
      - no-cache
      Date:
      - Mon, 06 Jun 2022 06:51:58 GMT
      Strict-Transport-Security:
      - max-age=31536000
      client-request-id:
      - 787f2730-66c4-4014-bb6a-59172e456329
      request-id:
      - 787f2730-66c4-4014-bb6a-59172e456329
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DB5"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/directoryObjects/48853927-a510-4d33-b6af-e3f4ea947e44/memberOf
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEClzNYQqCMBQA4Ls8Awt00zZT96sbeIDox5xvabQm8yVJdPeIiKADfHwP2PtOk2bG
        XwnvBAp6onFSnJ+CHnvmBhP85C0x4x2fc5bxlUPSbxR1Q0BDPixNe0ZD0zqWVVWIelumusizVHZC
        pO1O2xSFlahrWaKU8YY7dC2GxkLy/WkZERREv+/z/xWQwKwvNwR1OD5fAAAA//8DADb/6ke9AAAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:51:58 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - c8d5ae21-27d4-4b76-b777-69d89bc7591c
      request-id:
      - c8d5ae21-27d4-4b76-b777-69d89bc7591c
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DB8"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/users/48853927-a510-4d33-b6af-e3f4ea947e44?$select=assignedLicenses
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEClzLMQ7CMAwF0LuYDiBVMayZOEBvgBis1KQZElfxpwIh7o5YOz+9D11tFkhI1qAv
        UKQFWD0y5y7rEmpJ3dweCMkqb5dw5qEq5J8OT9fuR3Evuek8laTN1U88aEPBm0baG8Xb/fsDAAD/
        /wMAp505iHUAAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:51:59 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - f572dd49-8253-41c2-b4ea-b24a4bcc7eeb
      request-id:
      - f572dd49-8253-41c2-b4ea-b24a4bcc7eeb
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002D9F"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
version: 1
