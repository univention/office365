interactions:
- request:
    body: '{"displayName": "user_test_deactivate", "mailNickname": "user_test_deactivate",
      "accountEnabled": true, "onPremisesImmutableId": "2ba65f16-4d02-4e36-88cd-90b5adf008ac",
      "passwordProfile": {"forceChangePasswordNextSignIn": true, "password": "1*#tScJCyMLtP"},
      "usageLocation": "DE", "userPrincipalName": "user_test_deactivate@univentiontestgmbh.onmicrosoft.com"}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '360'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: POST
    uri: https://graph.microsoft.com/v1.0/users
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECnyQz2rDMAzG30XrMX+W0LWNT32AMnrYbYyi2HKi4djBVsLK2LuPNLSwy27Sh/R9
        P+kbjsGgYKGDF/oSUNCLjEmVZRdx7IuBdQwpWCl0GMq5Kp7LzUCCy9LTlCimckNeWK6QARtQ0DQV
        mmZnclvVlG9b2+aHarfNa9rvm/qFLB62kEE7JfaU0rkPnhKo948MDKfR4fUVBwIFi/tFKMnFEGrh
        GYUgg45n8uuIn5zL4DO0byyOQK39gOwedWjZ0S3jLgVrWdMpaBQO/q6OkSzFSOaEvpuwe7ilKfob
        z2q+QJ0je80jun9Aj5NfOJeI5YRuaPsi+D/fhJ9fAAAA//8DAN++8It+AQAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:42:04 GMT
      Location:
      - https://graph.microsoft.com/v2/3e7d9eb5-c3a1-4cfc-892e-a8ec29e45b77/directoryObjects/991ad96d-f12e-4bfb-8164-2e77925efa84/Microsoft.DirectoryServices.User
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 5b335e5b-1b77-4688-866a-4fb7b2299501
      request-id:
      - 5b335e5b-1b77-4688-866a-4fb7b2299501
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002D9F"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": false, "otherMails": []}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '43'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: PATCH
    uri: https://graph.microsoft.com/v1.0/users/991ad96d-f12e-4bfb-8164-2e77925efa84
  response:
    body:
      string: ''
    headers:
      Cache-Control:
      - no-cache
      Date:
      - Mon, 06 Jun 2022 06:42:04 GMT
      Strict-Transport-Security:
      - max-age=31536000
      client-request-id:
      - ddfd55c5-15f2-41bc-80d2-9351ed01fe36
      request-id:
      - ddfd55c5-15f2-41bc-80d2-9351ed01fe36
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DA5"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/directoryObjects/991ad96d-f12e-4bfb-8164-2e77925efa84/memberOf
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEClzN3QqCMBQA4Hc5Bhaoa2LqdtUb+ADRxX7O0mhN5kmS6N0jIoIe4ON7wD5YRaow
        4Up4J5DQE42TZOwU1dgXfjAxTMFRYYJnMy+2bOWR1BsldohoKMSl02c0NK1TIbiyora54yXmlXY6
        b3ld5SU2jSh36FRbpRvm0WuMnYPs+9MyIkhIft/n/ysgg1ldbgjycHy+AAAA//8DAAEpEsC9AAAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:42:04 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - e0692106-a182-4cb6-90ea-e2a8a20485bf
      request-id:
      - e0692106-a182-4cb6-90ea-e2a8a20485bf
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DA9"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/users/991ad96d-f12e-4bfb-8164-2e77925efa84?$select=assignedLicenses
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEClzLMQ7CMAwF0LuYDiBVMayZOEBvgBis1KQZElfxpwIh7o5YOz+9D11tFkhI1qAv
        UKQFWD0y5y7rEmpJ3dweCMkqb5dw5qEq5J8OT9fuR3Evuek8laTN1U88aEPBm0baG8Xb/fsDAAD/
        /wMAp505iHUAAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:42:05 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 528073ee-a0da-44a0-8023-e779bf3c5f9b
      request-id:
      - 528073ee-a0da-44a0-8023-e779bf3c5f9b
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF0000350B"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/users/991ad96d-f12e-4bfb-8164-2e77925efa84?$select=assignedLicenses,otherMails,businessPhones,displayName,givenName,jobTitle,mail,mobilePhone,officeLocation,preferredLanguage,surname,userPrincipalName,id,accountEnabled,onPremisesImmutableId,mailNickname,city,usageLocation,postalCode,streetAddress,assignedPlans
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECnSTy27bMBBF/2WaRQuM/KrtyFqlaLMI4AZedFcUwYgcyWwpUuBQRo2i/15QCf1A
        mh15KQ5nzr36A3deU6SJ8i7y7wgV7GPspZpO20D9ftIZFbz4Jk6U76aH+WQ2vek4Urr0bhAO8p5E
        TOtYb41iJyzo457DVzJWsB7EOBbZ7b1jQW2kt3R8pI6xNQd24+qnr7+ZaBk7MhY7XxvL4wX0TWMU
        b72iaLzDPnDDIbDekmsHahllCC4VS53sgnHK9GTHokYjKeUHF+8d1ZY1ercL3Blheei6ISbxQY9v
        Phr1ayyjTDziINRevOklkv3sNaPEwBw/aR1YBPPYO0tOPkxv2EUTj4BwHh+q7z8Qrhk8axcgoILU
        /VNkiU+aSUVzoMiAcCIElRusRcig8j7xOq3P2LJ0TS+rryDmgxeWefsK6RuN3g0uOZkMSiO0Xb2f
        eHeVG0AwGirYbOakN2tdNPMFF8u6qYtyvl4WC7693SxW3FC5BIRr36BqyAoj/Nc/qGBR03rVzNfF
        Us8WxZI/rouyVLrYzOoV6WY2K0kBQoKVjX5jFEBICTgTuAgCVPDlHhD6Ux7yZ1exyGJOR/4pnm3P
        6piZJP39BwAA//8DAG4ukoKBAwAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:42:05 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - c0940168-c20a-4bf4-b90c-2c3aa8028f6f
      request-id:
      - c0940168-c20a-4bf4-b90c-2c3aa8028f6f
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF000033AA"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"displayName": "ZZZ_deleted_1654497726.251697_user_test_deactivate", "mailNickname":
      "ZZZ_deleted_1654497726.2517247_user_test_deactivate", "accountEnabled": false,
      "otherMails": [], "userPrincipalName": "ZZZ_deleted_1654497726.251735_user_test_deactivate@univentiontestgmbh.onmicrosoft.com"}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '293'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: PATCH
    uri: https://graph.microsoft.com/v1.0/users/991ad96d-f12e-4bfb-8164-2e77925efa84
  response:
    body:
      string: ''
    headers:
      Cache-Control:
      - no-cache
      Date:
      - Mon, 06 Jun 2022 06:42:06 GMT
      Strict-Transport-Security:
      - max-age=31536000
      client-request-id:
      - 9f5f3172-b194-46bf-80cf-6a4304a4606c
      request-id:
      - 9f5f3172-b194-46bf-80cf-6a4304a4606c
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DB9"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/directoryObjects/991ad96d-f12e-4bfb-8164-2e77925efa84/memberOf
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEClzN3QqCMBQA4Hc5Bhaoa2LqdtUb+ADRxX7O0mhN5kmS6N0jIoIe4ON7wD5YRaow
        4Up4J5DQE42TZOwU1dgXfjAxTMFRYYJnMy+2bOWR1BsldohoKMSl02c0NK1TIbiyora54yXmlXY6
        b3ld5SU2jSh36FRbpRvm0WuMnYPs+9MyIkhIft/n/ysgg1ldbgjycHy+AAAA//8DAAEpEsC9AAAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:42:06 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 10353429-ab51-4c8c-aa1a-24e31538258b
      request-id:
      - 10353429-ab51-4c8c-aa1a-24e31538258b
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DA8"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/users/991ad96d-f12e-4bfb-8164-2e77925efa84?$select=assignedLicenses
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEClzLMQ7CMAwF0LuYDiBVMayZOEBvgBis1KQZElfxpwIh7o5YOz+9D11tFkhI1qAv
        UKQFWD0y5y7rEmpJ3dweCMkqb5dw5qEq5J8OT9fuR3Evuek8laTN1U88aEPBm0baG8Xb/fsDAAD/
        /wMAp505iHUAAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Mon, 06 Jun 2022 06:42:06 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 5a7bcaed-6bb4-4cd0-97f8-61f87dde4e2f
      request-id:
      - 5a7bcaed-6bb4-4cd0-97f8-61f87dde4e2f
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"001","RoleInstance":"DU2PEPF000107E9"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
version: 1
