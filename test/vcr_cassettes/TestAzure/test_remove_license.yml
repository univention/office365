interactions:
- request:
    body: '{"accountEnabled": true, "displayName": "user_test_remove_license", "mailNickname":
      "user_test_remove_license", "userPrincipalName": "user_test_remove_license@univentiontestgmbh.onmicrosoft.com",
      "passwordProfile": {"forceChangePasswordNextSignIn": true, "password": "1HhaNacXeow"},
      "usageLocation": "DE"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '305'
      Content-Type:
      - application/json
      User-Agent:
      - Univention Microsoft 365 Connector
    method: POST
    uri: https://graph.microsoft.com/v1.0/users
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECoSQTU7DQAyF72K6zE9bSClZ9QAV6oIdQpVnxkmMZsbRjFNRIe6O0qqVWLGzn+z3
        PvsbduJQsbISlb4UWhhUx9zWdZ9wHKrANkmWTisroT6tqmW9CKQ4Lz1MmVKuFxSV9QwFsIMWGjSE
        zWpTdmg25dPaLUuzwpdya23z2Kzdc0cOCjBT5kg5HwaJlKF9/yjAcR49nl8xELQwux+Vsh4TBTnR
        0bOlmAkK6PlE8ToWJ+8L+BTzxuoJ2msfkP29FsOeLjk3SbqOLe3ForLEmzom6iglcnuM/YT93S1P
        KV6YruYz2CFxtDyi/wd2N8WZdY6ZT+mDGSqJf74KP78AAAD//wMAuOdc7YYBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Fri, 13 May 2022 11:33:28 GMT
      Location:
      - https://graph.microsoft.com/v2/3e7d9eb5-c3a1-4cfc-892e-a8ec29e45b77/directoryObjects/5abea516-fab6-42d0-b1a9-8cc5352d7fed/Microsoft.DirectoryServices.User
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 4ed0a355-d394-47ee-af31-73365fac89bf
      request-id:
      - 4ed0a355-d394-47ee-af31-73365fac89bf
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DB5"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/subscribedSkus
  response:
    body:
      string: !!binary |
        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
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Fri, 13 May 2022 11:33:29 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - e2b9b1b1-e786-4226-8b36-84de7a1245b6
      request-id:
      - e2b9b1b1-e786-4226-8b36-84de7a1245b6
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002D9E"}}'
      x-ms-resource-unit:
      - '3'
    status:
      code: 200
      message: OK
- request:
    body: '{"addLicenses": [{"disabledPlans": [], "skuId": "6fd2c87f-b296-42f0-b197-1e91e994b900"}],
      "removeLicenses": []}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '111'
      Content-Type:
      - application/json
      User-Agent:
      - Univention Microsoft 365 Connector
    method: POST
    uri: https://graph.microsoft.com/v1.0/users/5abea516-fab6-42d0-b1a9-8cc5352d7fed/assignLicense
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECoyPy07DQAxF/8V0mUdbSIGs+gEV6oIdQpVnxkmM5hGNnYoK8e8orYrEBlj6yvfq
        nA/YJoeKlU1R6V2hhUF1lLau+4zjUAW2OUnqtLIp1MdVtawXgRTn0s0klKVeUFTWExRgJuFIIvsh
        RRJoX14LcCyjx9MTBoIW5sZBSfSQKaQjHTxbikJQQM9Hipe3OHlfwFsyz6yeoL3cAdn/MrGd4ryg
        PJuI9sEMVYo/+KGAkAx7OgNed1PXsaVdsjh3r+mYqaOcye0w9hP23xgy5XiWuVDNRvvM0fKI/g/L
        /yGygxYaNITNalN2aDbl3dotS7PCx/LB2ua2Wbv7jhx8fgEAAP//AwAmnYWUvwEAAA==
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Fri, 13 May 2022 11:33:29 GMT
      Location:
      - https://graph.microsoft.com
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 9f0d9284-10ac-4190-8644-fe74fa9aa14b
      request-id:
      - 9f0d9284-10ac-4190-8644-fe74fa9aa14b
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DAF"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"addLicenses": [], "removeLicenses": ["6fd2c87f-b296-42f0-b197-1e91e994b900"]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '79'
      Content-Type:
      - application/json
      User-Agent:
      - Univention Microsoft 365 Connector
    method: POST
    uri: https://graph.microsoft.com/v1.0/users/5abea516-fab6-42d0-b1a9-8cc5352d7fed/assignLicense
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECoSQTU7DQAyF72K6zE9bSClZ9QAV6oIdQpVnxkmMZsbRjFNRIe6O0qqVWLGzLb/3
        PvsbduJQsbISlb4UWhhUx9zWdZ9wHKrANkmWTisroT6tqmW9CKQ4ix6mTCnXC4rKeoYCzJQ5Us6H
        QSJlaN8/CnCcR4/nVwwELcyKo1LWY6IgJzp6thQzQQE9nyhe1+LkfQGfYt5YPUF77QOyv9di2NMl
        5zaSrmNLe7GoLPE2HRN1lBK5PcZ+wv7ulqcUL0xX8xnskDhaHtH/A7ub4sw6x8yn9MEMlcQ/n4IC
        2EELDRrCZrUpOzSb8mntlqVZ4Uu5tbZ5bNbuuSMHP78AAAD//wMAiJ4kHoYBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Fri, 13 May 2022 11:33:31 GMT
      Location:
      - https://graph.microsoft.com
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - ff363517-1c66-43ec-990a-a5f2c08cb9cd
      request-id:
      - ff363517-1c66-43ec-990a-a5f2c08cb9cd
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DC1"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"accountEnabled": false, "userPrincipalName": "ZZZ_deleted_1652441611.252574_user_test_remove_license@univentiontestgmbh.onmicrosoft.com",
      "displayName": "ZZZ_deleted_1652441611.2525914_user_test_remove_license"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '213'
      Content-Type:
      - application/json
      User-Agent:
      - Univention Microsoft 365 Connector
    method: PATCH
    uri: https://graph.microsoft.com/v1.0/users/5abea516-fab6-42d0-b1a9-8cc5352d7fed
  response:
    body:
      string: ''
    headers:
      Cache-Control:
      - no-cache
      Date:
      - Fri, 13 May 2022 11:33:31 GMT
      Strict-Transport-Security:
      - max-age=31536000
      client-request-id:
      - 8d8e8993-99ad-4814-b0ac-7382a379951a
      request-id:
      - 8d8e8993-99ad-4814-b0ac-7382a379951a
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DA0"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
version: 1
