interactions:
- request:
    body: '{"accountEnabled": true, "displayName": "user_test_add_license", "mailNickname":
      "user_test_add_license", "userPrincipalName": "user_test_add_license@univentiontestgmbh.onmicrosoft.com",
      "passwordProfile": {"forceChangePasswordNextSignIn": true, "password": "1JLokvrlHpc"},
      "usageLocation": "DE"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '296'
      Content-Type:
      - application/json
      User-Agent:
      - Univention Microsoft 365 Connector
    method: POST
    uri: https://graph.microsoft.com/v1.0/users
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECnyQTW7CQAyF7+KyzA9JKNCsOACqWHRXVZEz4ySuJp5oxkFFVe9eBQRSN93ZT/Z7
        n/0NB29RMTNelL4UahhUp1jneR9wGrKRTfDRd5oZP+bnIlvnq5EUl6WnOVKI+YpEWS+QAFuowXRl
        VW5Lk77sKkw3+x2l++fdOi3serMvt0WF1QYSaOfIQjGeBi8UoX7/SMBynBxeXnEkqGFxb5SiNmht
        49iQRIIEej6T3GZkdi6BT9++sTqC+taPyO5R+5YdXUPuku86NnT0BpW93NUpUEchkD2i9DP2D7c4
        B7kC3cwXqlNgMTyh+4/0MMsCumQsR/RjO2Re/vwTfn4BAAD//wMAwpP1OIABAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Fri, 13 May 2022 11:33:02 GMT
      Location:
      - https://graph.microsoft.com/v2/3e7d9eb5-c3a1-4cfc-892e-a8ec29e45b77/directoryObjects/cf23262c-973a-487e-8570-1d0482613a34/Microsoft.DirectoryServices.User
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - aa4d3732-37bf-4a82-b8ea-03e9308e29e1
      request-id:
      - aa4d3732-37bf-4a82-b8ea-03e9308e29e1
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00003537"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      User-Agent:
      - Univention Microsoft 365 Connector
    method: GET
    uri: https://graph.microsoft.com/v1.0/subscribedSkus
  response:
    body:
      string: !!binary |
        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
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Fri, 13 May 2022 11:33:03 GMT
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 5635ca65-eefc-4f8c-86e6-32d05b17d7f1
      request-id:
      - 5635ca65-eefc-4f8c-86e6-32d05b17d7f1
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF0000350B"}}'
      x-ms-resource-unit:
      - '3'
    status:
      code: 200
      message: OK
- request:
    body: '{"addLicenses": [{"disabledPlans": [], "skuId": "6fd2c87f-b296-42f0-b197-1e91e994b900"}],
      "removeLicenses": []}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '111'
      Content-Type:
      - application/json
      User-Agent:
      - Univention Microsoft 365 Connector
    method: POST
    uri: https://graph.microsoft.com/v1.0/users/cf23262c-973a-487e-8570-1d0482613a34/assignLicense
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECoyPy07DQAwA/8VwzKNNSlty6gdUqAduCFXOrpMY7SNaOxUV4t9RWhWJA4ijLY81
        8wG7aFGxMDEovSs0MKiO0pRln3AcCs8mRYmdFib68rQsFuW9J8UZupuEkpT3FJT1DBm0k3AgkcMQ
        Awk0L68ZWJbR4fkJPUEDM3FUEj2itUfHhoIQZNDzicL1JkzOZfAW22dWR9BcZ4/sfuN3U5hx5blB
        tPftUMTwwxwy8LFlRxe129PYdWxoHw3O7G07JuooJbJ7DP2E/beDTClcMq5Kc8shcTA8ovur739+
        bKEB01V1ta5M/ripMV9tN5RvHzaLfGkXq221XtZYr+DzCwAA//8DANDYOxq2AQAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Fri, 13 May 2022 11:33:04 GMT
      Location:
      - https://graph.microsoft.com
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - d2730d69-0652-4c10-8c6e-7e224bd8b166
      request-id:
      - d2730d69-0652-4c10-8c6e-7e224bd8b166
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002DAD"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"addLicenses": [], "removeLicenses": ["6fd2c87f-b296-42f0-b197-1e91e994b900"]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '79'
      Content-Type:
      - application/json
      User-Agent:
      - Univention Microsoft 365 Connector
    method: POST
    uri: https://graph.microsoft.com/v1.0/users/cf23262c-973a-487e-8570-1d0482613a34/assignLicense
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAECnyQTW7CQAyF7+KyzA9JKNCsOACqWHRXVZEz4ySuJp5oxkFFVe9eBQRSN93Zlt97
        n/0NB29RMTNelL4UahhUp1jneR9wGrKRTfDRd5oZP+bnIlvnq5EUF9HTHCnEfEWirBdIoJ0jC8V4
        GrxQhPr9IwHLcXJ4ecWRoIZF0ShFbdDaxrEhiQQJ9Hwmue3I7FwCn759Y3UE9a0fkd2j9i07uobc
        R77r2NDRG1T2cp9OgToKgewRpZ+xf7jFOcgV6Ga+UJ0Ci+EJ3X+kh1kW0CVjOaIf2yHz8udHkABb
        qMF0ZVVuS5O+7CpMN/sdpfvn3Tot7HqzL7dFhdUGfn4BAAD//wMALVr8NoABAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      Date:
      - Fri, 13 May 2022 11:33:04 GMT
      Location:
      - https://graph.microsoft.com
      OData-Version:
      - '4.0'
      Strict-Transport-Security:
      - max-age=31536000
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      client-request-id:
      - 17863a2f-d306-402d-bd7c-3dd4ef62349e
      request-id:
      - 17863a2f-d306-402d-bd7c-3dd4ef62349e
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF0000352A"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"accountEnabled": false, "userPrincipalName": "ZZZ_deleted_1652441585.136998_user_test_add_license@univentiontestgmbh.onmicrosoft.com",
      "displayName": "ZZZ_deleted_1652441585.1370127_user_test_add_license"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - XXXXXX
      Connection:
      - keep-alive
      Content-Length:
      - '207'
      Content-Type:
      - application/json
      User-Agent:
      - Univention Microsoft 365 Connector
    method: PATCH
    uri: https://graph.microsoft.com/v1.0/users/cf23262c-973a-487e-8570-1d0482613a34
  response:
    body:
      string: ''
    headers:
      Cache-Control:
      - no-cache
      Date:
      - Fri, 13 May 2022 11:33:05 GMT
      Strict-Transport-Security:
      - max-age=31536000
      client-request-id:
      - 2bca8fa7-3c20-486b-add2-437328255d34
      request-id:
      - 2bca8fa7-3c20-486b-add2-437328255d34
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"North Europe","Slice":"E","Ring":"4","ScaleUnit":"000","RoleInstance":"DU6PEPF00002D9F"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
version: 1
